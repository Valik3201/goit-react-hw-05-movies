"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[135],{9135:function(e,r,t){t.r(r),t.d(r,{default:function(){return y}});var a=t(1413),n=t(5861),i=t(9439),s=t(4687),l=t.n(s),u=t(2791),c=t(1087),o=t(3984),d=t(4390),f=function(){var e=(0,n.Z)(l().mark((function e(r){var t,n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,a.Z)((0,a.Z)({},d._),{},{params:{query:r.query,include_adult:r.include_adult||!1,language:r.language||"en-US",primary_release_year:r.primary_release_year||"",page:r.page||1,region:r.region||"",year:r.year||""}}),e.next=3,d.o.get("/search/movie",t);case 3:return n=e.sent,i=n.data,e.abrupt("return",i.results);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=t(9329),m=t(4925),g=t(2758),h=t(184),v=["className","type"],x=u.forwardRef((function(e,r){var t=e.className,n=e.type,i=(0,m.Z)(e,v);return(0,h.jsx)("input",(0,a.Z)({type:n,className:(0,g.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r},i))}));x.displayName="Input";var y=function(){var e=(0,u.useRef)(null),r=(0,u.useRef)(null),t=(0,c.lr)(),s=(0,i.Z)(t,2),d=s[0],m=s[1],g=(0,o.a)({queryKey:["searchMovies"],queryFn:function(){var t=(0,n.Z)(l().mark((function t(){var a,n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({query:null===(a=e.current)||void 0===a?void 0:a.value.trim(),include_adult:!1,language:"en-US",primary_release_year:null===(n=r.current)||void 0===n?void 0:n.value.trim(),page:1,region:"",year:""});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),v=g.data,y=g.isLoading,b=g.isError,_=g.error,j=g.refetch,w=function(){var t=(0,n.Z)(l().mark((function t(n){var i,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),i=e.current.value.trim(),s=r.current.value.trim(),m((0,a.Z)({query:i},s&&{year:s})),j({query:i,include_adult:!1,language:"en-US",primary_release_year:s,page:1,region:"",year:""});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){var t=d.get("query")||"",a=d.get("year")||"";e.current.value=t,r.current.value=a}),[d]),(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{className:"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl pb-8",children:"Search Movies"}),(0,h.jsx)("form",{onSubmit:w,children:(0,h.jsxs)("div",{className:"flex w-full max-w-2xl items-center space-x-2 pb-8",children:[(0,h.jsx)(x,{type:"text",ref:e,placeholder:"Enter movie title..."}),(0,h.jsx)(x,{type:"text",ref:r,placeholder:"Enter release year..."}),(0,h.jsx)(p.z,{type:"submit",children:"Search"})]})}),y&&(0,h.jsx)("div",{children:"Loading..."}),b&&(0,h.jsxs)("div",{children:["Error fetching data: ",_.message]}),(0,h.jsx)("div",{className:'className="grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4',children:null===v||void 0===v?void 0:v.map((function(e){return(0,h.jsx)(c.rU,{to:"/movies/".concat(e.id),children:(0,h.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,h.jsx)("div",{className:"overflow-hidden rounded-lg",children:(0,h.jsx)("img",{src:"https://image.tmdb.org/t/p/w342".concat(e.poster_path),alt:e.title||e.name,className:"h-auto w-auto object-cover transition-all hover:scale-105"})}),(0,h.jsx)("h3",{className:"scroll-m-20 text-md font-bold tracking-tight",children:e.title||e.name}),(0,h.jsx)("h4",{lassName:"text-md text-muted-foreground font-semibold",children:e.release_date?new Date(e.release_date).getFullYear():new Date(e.first_air_date).getFullYear()})]})},e.id)}))})]})}},4390:function(e,r,t){t.d(r,{_:function(){return n},o:function(){return a.Z}});var a=t(5294);a.Z.defaults.baseURL="https://api.themoviedb.org/3";var n={headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlYTMyZWM5MzExODExYjA2NDkyNzhmZGFmYzEyMzAwZSIsInN1YiI6IjY1YzIwN2U2ZjQ0ZjI3MDE2M2MwYzBjMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.zkFtcEcge5gUigfN2sq7K5C-DaNfEfDz1qyoSucACIQ"}}}}]);
//# sourceMappingURL=135.3ebf85d1.chunk.js.map